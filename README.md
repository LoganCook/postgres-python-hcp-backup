## Information
Python based backup script for postgresql databases. The resulting backup file is dumped to the Hitachi Content Platform using the Boto S3 interface <br>
<br>
Run this script as the postgresql user on your system via a crontab. <br>
You'll need a working HCP namespace with the appropriate services configured (HTTPS).
<br>
An HCP authentication token is required to put data into a namespace. <br>
<br>
This is generated by base64 encoding the username following by a ":" and the md5sum of the password. <br>
Please see the HCP administration guide for details.<br>
Backups are rotated using the [Grandfather-father-son](https://en.wikipedia.org/wiki/Backup_rotation_scheme#Grandfather-father-son) scheme using the Python GrandFatherSon module<br>

## Requirements
 * Python 2.7
 * Boto module
 * GrandFatherSon module
 * slackweb python module "pip install slackweb"
 * /tmp needs enough space to dump a full database backup.

## Slackweb setup

Instructions available here: [Slack web hooks](https://github.com/satoshi03/slack-python-webhook)

 1. [Configure a slack webhook here](https://my.slack.com/services/new/incoming-webhook/) 
 1. Give the bot an appropriate name and point it at the required channel.
 1. Copy the webhooks URL into the python script.
